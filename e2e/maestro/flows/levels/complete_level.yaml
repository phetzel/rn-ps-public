appId: com.phetzel.rnps
name: Complete Level Flow
tags:
  - smoke
  - critical
onFlowStart:
  - clearState
  - launchApp
---
# Dismiss disclaimer if present
- tapOn:
    text: 'I understand'
    optional: true

# Wait for home screen
- assertVisible:
    text: 'Start New Game'
    timeout: 10000

# Create a game first
- tapOn: 'Start New Game'
- assertVisible: 'New Press Secretary Career'
- tapOn: 'George Washington...'
- inputText: 'Test President'
- tapOn: 'Liberal'
- tapOn: 'George Akerson...'
- inputText: 'Test Secretary'
- tapOn: 'Select background'
- tapOn: 'Journalist'
- tapOn: 'Create Game'

# Wait for game screen
- assertVisible:
    text: 'Active Situations'
    timeout: 10000

# Start a level (tap on first situation card)
- tapOn:
    textContains: 'Situation'
    optional: true

# Handle briefing if present
- tapOn:
    text: 'Start Briefing'
    optional: true
- tapOn:
    text: 'Continue'
    optional: true

# Press Conference - answer questions
- tapOn:
    index: 0
    optional: true
- tapOn:
    text: 'Submit'
    optional: true
- tapOn:
    text: 'Next'
    optional: true
- tapOn:
    text: 'Continue'
    optional: true
