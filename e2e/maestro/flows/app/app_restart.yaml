appId: com.phetzel.rnps
name: App Restart and Resume
tags:
  - smoke
  - persistence
onFlowStart:
  - clearState
  - launchApp
---
# Dismiss disclaimer if present
- tapOn:
    text: 'I understand'
    optional: true

# Wait for home screen
- assertVisible:
    text: 'Start New Game'
    timeout: 10000

# Create a game
- tapOn: 'Start New Game'
- assertVisible: 'New Press Secretary Career'
- tapOn: 'George Washington...'
- inputText: 'Persistence Test'
- tapOn: 'Liberal'
- tapOn: 'George Akerson...'
- inputText: 'Resume Test'
- tapOn: 'Select background'
- tapOn: 'Journalist'
- tapOn: 'Create Game'

# Wait for game to be created
- assertVisible:
    text: 'Active Situations'
    timeout: 10000

# Kill and relaunch the app (without clearing state)
- stopApp
- launchApp

# Verify app resumes with game state intact
- assertVisible:
    text: 'Active Situations'
    timeout: 10000
